

// readme :: info : back-end-main - this file runs server-side
// ----------------------------------------------------------------------------------------------------------------------------
    "use strict";
// ----------------------------------------------------------------------------------------------------------------------------





// import :: Player
// ----------------------------------------------------------------------------------------------------------------------------
    require( "./player/server/hosted.cjs" );
// ----------------------------------------------------------------------------------------------------------------------------





// listen :: whenReady : start server and invoke new window
// ----------------------------------------------------------------------------------------------------------------------------
    Player.whenReady().then(()=>
    {
        Player.initServer().then(()=>
        {
            Player.initClient();

            Player.on( "activate", function render ()
            {
                if ( Client.getAllWindows().length === 0 )
                { Player.initClient() };
            });
        });
    })
// ----------------------------------------------------------------------------------------------------------------------------





// listen :: closed
// ----------------------------------------------------------------------------------------------------------------------------
    Player.on( "window-all-closed", function finish ()
    {
        if ( process.platform !== "darwin" )
        { Player.quit() };
    });
// ----------------------------------------------------------------------------------------------------------------------------
